<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ltd.moore.ctravel.experience.mapper.ExperienceAndServiceTypeMapper">
	
<sql id="Column_List">
SERVICE_TYPE_ID
,EXPERIENCE_ID
</sql>
	<sql id="Where_Clause">
		<where>
<if test="condition.serviceTypeId != null" >AND SERVICE_TYPE_ID = #{serviceTypeId}</if>
<if test="condition.experienceId != null" >AND EXPERIENCE_ID = #{experienceId}</if>
    	</where>
	</sql>
	<select id="getById" resultType="ltd.moore.ctravel.experience.model.ExperienceAndServiceTypeVO" parameterType="String">
		select <include refid="Column_List" />
    	from PUB_EXPERIENCE_AND_SERVICE_TYPE where EXPERIENCE_ID = #{experienceId}
	</select>
	<select id="getListById" resultType="ltd.moore.ctravel.experience.model.ExperienceAndServiceTypeVO" parameterType="String">
		select <include refid="Column_List" />
		from PUB_EXPERIENCE_AND_SERVICE_TYPE where SERVICE_TYPE_ID = #{serviceTypeId}
	</select>
	<select id="count" resultType="int" parameterType="map">
		select COUNT(1)
    	from PUB_EXPERIENCE_AND_SERVICE_TYPE
    	<include refid="Where_Clause" />
	</select>

	<select id="list" resultType="ltd.moore.ctravel.experience.model.ExperienceAndServiceTypeVO" parameterType="map">
		select <include refid="Column_List" />
    	from PUB_EXPERIENCE_AND_SERVICE_TYPE
    	<include refid="Where_Clause" />
    	ORDER BY UPDATE_TIME DESC
	</select>
	
<insert id="insert" parameterType="ltd.moore.ctravel.experience.model.ExperienceAndServiceTypeVO">
insert into PUB_EXPERIENCE_AND_SERVICE_TYPE (<include refid="Column_List" />)
values (
#{serviceTypeId}
,#{experienceId}
)
</insert>
	
<update id="update" parameterType="ltd.moore.ctravel.experience.model.ExperienceAndServiceTypeVO">
update PUB_EXPERIENCE_AND_SERVICE_TYPE
<set>
<if test="serviceTypeId != null" >SERVICE_TYPE_ID = #{serviceTypeId},</if>
<if test="experienceId != null" >EXPERIENCE_ID = #{experienceId},</if>
</set>
where SERVICE_TYPE_ID = #{serviceTypeId}
</update>
	
	<delete id="delete" parameterType="java.lang.String" >
		delete from PUB_EXPERIENCE_AND_SERVICE_TYPE  where EXPERIENCE_ID = #{experienceId}
	</delete>
	
	<delete id="deleteInBulk" parameterType="java.lang.String">
		delete from PUB_EXPERIENCE_AND_SERVICE_TYPE  where SERVICE_TYPE_ID in
		<foreach item="item" index="index" collection="array" open="(" separator="," close=")">
			#{item}
		</foreach>
	</delete>
</mapper>